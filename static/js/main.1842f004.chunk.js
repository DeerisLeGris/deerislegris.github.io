(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{126:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(105),c=a.n(i),s=(a(126),a(156)),o=a(7),u=a(53),l=a(161),d=a(170),j=a(171),b=a(18),f=a(169),x=a(175),m=a(4),g=a(157),h=a(6);var O=function(e){var t,a=e.name,n=e.image,r=e.maker,i=e.onClick;return Object(h.jsxs)(s.a,(t={flexGrow:0,flexShrink:0,flexBasis:"150px",backgroundColor:"red.400",flexDirection:"row",alignItems:"center",padding:"10px",borderRadius:"15px"},Object(m.a)(t,"backgroundColor","lightgray"),Object(m.a)(t,"onClick",i),Object(m.a)(t,"cursor","pointer"),Object(m.a)(t,"children",[Object(h.jsx)(x.a,{src:n,height:"100",borderRadius:"15px"}),Object(h.jsxs)(s.a,{marginLeft:"10px",flexDirection:"column",children:[Object(h.jsx)(g.a,{fontSize:"1.8em",fontWeight:"bold",lineHeight:"1",children:a}),Object(h.jsx)(g.a,{fontSize:"1.2em",fontStyle:"italic",children:r})]})]),t))},p=function(){return Array.from(Array(1+Math.floor(10*Math.random())).keys()).map((function(e){return Object(h.jsx)(f.a,{borderRadius:"15px",height:"150px"},e)}))};var k=function(e){var t=e.fursuitsData,a=e.fursuitsDataLoading,n=e.onFursuitSelected,r=e.imagesData,i=e.imagesDataLoading,c=e.onImageSelected,o=e.showMode;if("images"===o&&i||"search"===o&&a)return Object(h.jsx)(s.a,{flexDirection:"column",overflow:"auto",gridGap:"10px",children:Object(h.jsx)(p,{})});switch(o){case"search":return Object(h.jsx)(s.a,{flexDirection:"column",overflow:"auto",gridGap:"10px",children:t&&t.fursuits&&t.fursuits.map((function(e){return Object(h.jsx)(O,{onClick:function(){return n(e.slug)},name:e.name,image:e.avatar,maker:null!=e.makers[0]?e.makers[0].name:""},e.id)}))});case"images":return Object(h.jsx)(s.a,{flexDirection:"column",overflow:"auto",gridGap:"10px",children:r&&r.fursuitMedia&&r.fursuitMedia.map((function(e){return Object(h.jsx)(x.a,{src:e.thumbnail,onClick:function(){return c(e.id)},cursor:"pointer"},e.id)}))})}},v=a(177),w=a(173),C=a(159),S=a(172),D=a(160),I=a(180);var $,y,M,F=function(e){var t=e.onSearch,a=e.onCancel,r=e.showMode,i=e.selectedFursuit,c=Object(n.useState)(""),u=Object(o.a)(c,2),l=u[0],d=u[1],j=Object(n.useCallback)((function(e){"Enter"===e.key&&t(l)}),[l,t]),b=Object(n.useCallback)((function(e){return d(e.target.value)}),[]),f=Object(n.useCallback)((function(){return t(l)}),[l,t]),m=Object(n.useCallback)((function(){return a()}),[a]);return Object(h.jsxs)(s.a,{flexShrink:0,flexDirection:"column",alignItems:"stretch",justifyContent:"center",children:["search"===r&&Object(h.jsxs)(v.a,{children:[Object(h.jsx)(w.a,{placeholder:"Search fursuit...",value:l,onChange:b,onKeyDown:j}),Object(h.jsx)(C.a,{width:"4rem",children:Object(h.jsx)(S.a,{h:"1.75rem",size:"sm",onClick:f,children:Object(h.jsx)(I.a,{color:"gray.300"})})})]}),"images"===r&&i&&i.fursuit&&Object(h.jsxs)(s.a,{flexGrow:0,flexShrink:0,flexDirection:"row",alignItems:"center",borderRadius:"15px",children:[Object(h.jsx)(x.a,{src:i.fursuit.avatar,height:"50",borderRadius:"15px"}),Object(h.jsxs)(s.a,{marginLeft:"10px",flexDirection:"column",flexGrow:1,children:[Object(h.jsx)(g.a,{fontWeight:"bold",children:i.fursuit.name}),Object(h.jsx)(g.a,{fontStyle:"italic",children:null!=i.fursuit.makers[0]?i.fursuit.makers[0].name:""})]}),Object(h.jsx)(D.a,{onClick:m})]})]})},G=Object(d.a)($||($=Object(u.a)(["query FursuitsTest($name: String, $maker: ID, $limit: Int!, $offset: Int!) {\n    fursuits(name: $name, maker: $maker, limit: $limit, offset: $offset) {\n      id\n      slug\n      name\n      makers {\n        name\n      }\n      avatar\n    }\n  }"]))),L=Object(d.a)(y||(y=Object(u.a)(["query SelectedFursuit($id: ID!, $isModerator: Boolean) {\n    fursuit(id: $id, isModerator: $isModerator) {\n      id\n      name\n      makers {\n        name\n      }\n      avatar\n    }\n  }"]))),z=Object(d.a)(M||(M=Object(u.a)(["query FursuitMedia($fursuitId: ID!, $limit: Int!, $offset: Int!) {\n    fursuitMedia(fursuitId: $fursuitId, limit: $limit, offset: $offset) {\n      id\n      thumbnail\n    }\n  }"])));var B,R=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("search"),c=Object(o.a)(i,2),u=c[0],d=c[1],f=Object(b.g)().idfursuit,x=Object(b.f)(),m=Object(j.a)(G,{variables:{name:a,limit:12,maker:"",offset:0},skip:!a}),g=m.loading,O=(m.error,m.data),p=Object(j.a)(L,{variables:{id:f},skip:!f}).data,v=Object(j.a)(z,{variables:{fursuitId:f,limit:24,offset:0},skip:!f}),w=v.loading,C=(v.error,v.data),S=Object(n.useCallback)((function(e){e&&x.push("/"+e)}),[]),D=Object(n.useCallback)((function(e){e&&x.push("/"+f+"/"+e)}),[f]),I=Object(n.useCallback)((function(){d("search")}),[]);return Object(n.useEffect)((function(){f&&d("images")}),[f]),Object(h.jsxs)(s.a,{flexGrow:0,flexShrink:0,flexBasis:"500px",flexDirection:"column",padding:"20px",boxShadow:"0px 0px 15px 5px #000000",zIndex:"1",children:[Object(h.jsx)(F,{showMode:u,onSearch:r,selectedFursuit:p,onCancel:I}),Object(h.jsx)(l.a,{marginTop:"20px",marginBottom:"20px"}),Object(h.jsx)(k,{showMode:u,fursuitsData:O,fursuitsDataLoading:g,imagesData:C,imagesDataLoading:w,onFursuitSelected:S,onImageSelected:D})]})},q=a(178),T=Object(d.a)(B||(B=Object(u.a)(["query Medium($id: ID!, $tagging: Boolean) {\n    medium(id: $id, tagging: $tagging) {\n      id\n      picture\n      createdAt\n    }\n  }"])));var A=function(){var e=Object(b.g)().idimage,t=Object(j.a)(T,{variables:{id:e},skip:!e}),a=t.loading,n=(t.error,t.data);return a?Object(h.jsx)(s.a,{flexGrow:1,backgroundColor:"gray.600",alignItems:"center",justifyContent:"center",children:Object(h.jsx)(q.a,{size:"xl",color:"whitesmoke"})}):n&&n.medium?Object(h.jsx)(s.a,{flexGrow:1,backgroundImage:"url('"+n.medium.picture+"')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"gray.600"}):Object(h.jsx)(s.a,{flexGrow:1,backgroundColor:"gray.600",alignItems:"center",justifyContent:"center",children:Object(h.jsx)(g.a,{color:"whitesmoke",fontSize:"5xl",children:"Scritch.es viewer"})})};var E=function(){return Object(h.jsxs)(s.a,{height:"100vh",flexDirection:"row",alignItems:"stretch",children:[Object(h.jsx)(R,{}),Object(h.jsx)(A,{})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},J=a(167),W=a(168),H=a(166),K=a(68),N=a(174),Q=new J.a({uri:"https://scritch.es/graphql",cache:new W.a});c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(H.a,{client:Q,children:Object(h.jsx)(N.a,{children:Object(h.jsx)(K.a,{children:Object(h.jsx)(b.c,{children:Object(h.jsx)(b.a,{path:"/:idfursuit?/:idimage?",children:Object(h.jsx)(E,{})})})})})})}),document.getElementById("root")),P()}},[[139,1,2]]]);
//# sourceMappingURL=main.1842f004.chunk.js.map